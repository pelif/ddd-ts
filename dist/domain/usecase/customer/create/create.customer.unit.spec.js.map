{"version":3,"sources":["../../../../../src/domain/usecase/customer/create/create.customer.unit.spec.ts"],"sourcesContent":["import CreateCustomerUseCase from \"./create.customer.usecase\";\n\nconst input = {\n    name: \"Customer 1\",\n    address: {\n        street: \"Street 1\",\n        number: 9781,\n        zip: \"Zipcode1\",\n        city: \"City 1\"\n    }\n}\n\nconst MockRepository = () => {\n    return {\n        create: jest.fn(),\n        update: jest.fn(),\n        find: jest.fn(),\n        findAll: jest.fn(),\n    }\n}\n\ndescribe(\"Unit Test create customer use case\", () => {\n\n    it(\"Should create a customer\", async () => {\n        const customerRepository = MockRepository();\n        const usecase = new CreateCustomerUseCase(customerRepository);\n\n        const output = await usecase.execute(input);\n\n        expect(output).toEqual({\n            id: expect.any(String),\n            name: input.name,\n            address: {\n                street: input.address.street,\n                number: input.address.number,\n                zip: input.address.zip,\n                city: input.address.city\n            }\n        });\n\n    });\n\n    it(\"Should Throw an error when name is missing\", async () => {\n        const customerRepository = MockRepository();\n        const usecase = new CreateCustomerUseCase(customerRepository);\n\n        input.name = \"\";\n\n        await expect(usecase.execute(input))\n            .rejects\n            .toThrow(\"Name is required\");\n    });\n\n    it(\"Should Throw an error when address street is missing\", async () => {\n        const customerRepository = MockRepository();\n        const usecase = new CreateCustomerUseCase(customerRepository);\n\n        input.address.street = \"\";\n\n        await expect(usecase.execute(input))\n            .rejects\n            .toThrow(\"Street is required\");\n    });\n\n\n\n});\n"],"names":["CreateCustomerUseCase","input","name","address","street","number","zip","city","MockRepository","create","jest","fn","update","find","findAll","describe","it","customerRepository","usecase","output","execute","expect","toEqual","id","any","String","rejects","toThrow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,2BAA2B,4BAA4B;AAE9D,IAAMC,QAAQ;IACVC,MAAM;IACNC,SAAS;QACLC,QAAQ;QACRC,QAAQ;QACRC,KAAK;QACLC,MAAM;IACV;AACJ;AAEA,IAAMC,iBAAiB;IACnB,OAAO;QACHC,QAAQC,KAAKC,EAAE;QACfC,QAAQF,KAAKC,EAAE;QACfE,MAAMH,KAAKC,EAAE;QACbG,SAASJ,KAAKC,EAAE;IACpB;AACJ;AAEAI,SAAS,sCAAsC;IAE3CC,GAAG,4BAA4B;;gBACrBC,oBACAC,SAEAC;;;;wBAHAF,qBAAqBT;wBACrBU,UAAU,IAAIlB,sBAAsBiB;wBAE3B;;4BAAMC,QAAQE,OAAO,CAACnB;;;wBAA/BkB,SAAS;wBAEfE,OAAOF,QAAQG,OAAO,CAAC;4BACnBC,IAAIF,OAAOG,GAAG,CAACC;4BACfvB,MAAMD,MAAMC,IAAI;4BAChBC,SAAS;gCACLC,QAAQH,MAAME,OAAO,CAACC,MAAM;gCAC5BC,QAAQJ,MAAME,OAAO,CAACE,MAAM;gCAC5BC,KAAKL,MAAME,OAAO,CAACG,GAAG;gCACtBC,MAAMN,MAAME,OAAO,CAACI,IAAI;4BAC5B;wBACJ;;;;;;QAEJ;;IAEAS,GAAG,8CAA8C;;gBACvCC,oBACAC;;;;wBADAD,qBAAqBT;wBACrBU,UAAU,IAAIlB,sBAAsBiB;wBAE1ChB,MAAMC,IAAI,GAAG;wBAEb;;4BAAMmB,OAAOH,QAAQE,OAAO,CAACnB,QACxByB,OAAO,CACPC,OAAO,CAAC;;;wBAFb;;;;;;QAGJ;;IAEAX,GAAG,wDAAwD;;gBACjDC,oBACAC;;;;wBADAD,qBAAqBT;wBACrBU,UAAU,IAAIlB,sBAAsBiB;wBAE1ChB,MAAME,OAAO,CAACC,MAAM,GAAG;wBAEvB;;4BAAMiB,OAAOH,QAAQE,OAAO,CAACnB,QACxByB,OAAO,CACPC,OAAO,CAAC;;;wBAFb;;;;;;QAGJ;;AAIJ"}