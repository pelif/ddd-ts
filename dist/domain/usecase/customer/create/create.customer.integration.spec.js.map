{"version":3,"sources":["../../../../../src/domain/usecase/customer/create/create.customer.integration.spec.ts"],"sourcesContent":["import { Sequelize } from \"sequelize-typescript\";\nimport CustomerModel from \"../../../../infrastructure/customer/repository/sequelize/customer.model\";\nimport CustomerRepository from \"../../../../infrastructure/customer/repository/sequelize/customer.repository\";\nimport CreateCustomerUseCase from \"./create.customer.usecase\";\n\ndescribe(\"Integration Test create customer\", () => {\n    let sequelize: Sequelize;\n\n    beforeEach(async () => {\n        sequelize = new Sequelize({\n            dialect: \"sqlite\",\n            storage: \":memory:\",\n            logging: false,\n            sync: { force: true },\n        });\n\n        sequelize.addModels([CustomerModel]);\n        await sequelize.sync();\n    });\n\n    afterEach(async () => {\n        await sequelize.close();\n    });\n\n    it(\"Should create a customer\", async () => {\n        const customerRepository = new CustomerRepository();\n        const usecase = new CreateCustomerUseCase(customerRepository);\n\n        const input = {\n            name: \"Customer 1\",\n            address: {\n                street: \"Street 1\",\n                number: 9781,\n                zip: \"Zipcode 1\",\n                city: \"City 1\"\n            }\n        }\n\n        const output = await usecase.execute(input);\n\n        expect(output.id).toBeDefined();\n        expect(output.name).toBe(input.name);\n        expect(output.address.street).toBe(input.address.street);\n        expect(output.address.number).toBe(input.address.number);\n        expect(output.address.zip).toBe(input.address.zip);\n        expect(output.address.city).toBe(input.address.city);\n    });\n});"],"names":["Sequelize","CustomerModel","CustomerRepository","CreateCustomerUseCase","describe","sequelize","beforeEach","dialect","storage","logging","sync","force","addModels","afterEach","close","it","customerRepository","usecase","input","output","name","address","street","number","zip","city","execute","expect","id","toBeDefined","toBe"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAS,QAAQ,uBAAuB;AACjD,OAAOC,mBAAmB,0EAA0E;AACpG,OAAOC,wBAAwB,+EAA+E;AAC9G,OAAOC,2BAA2B,4BAA4B;AAE9DC,SAAS,oCAAoC;IACzC,IAAIC;IAEJC,WAAW;;;;;wBACPD,YAAY,IAAIL,UAAU;4BACtBO,SAAS;4BACTC,SAAS;4BACTC,SAAS;4BACTC,MAAM;gCAAEC,OAAO;4BAAK;wBACxB;wBAEAN,UAAUO,SAAS;4BAAEX;;wBACrB;;4BAAMI,UAAUK,IAAI;;;wBAApB;;;;;;QACJ;;IAEAG,UAAU;;;;;wBACN;;4BAAMR,UAAUS,KAAK;;;wBAArB;;;;;;QACJ;;IAEAC,GAAG,4BAA4B;;gBACrBC,oBACAC,SAEAC,OAUAC;;;;wBAbAH,qBAAqB,IAAId;wBACzBe,UAAU,IAAId,sBAAsBa;wBAEpCE,QAAQ;4BACVE,MAAM;4BACNC,SAAS;gCACLC,QAAQ;gCACRC,QAAQ;gCACRC,KAAK;gCACLC,MAAM;4BACV;wBACJ;wBAEe;;4BAAMR,QAAQS,OAAO,CAACR;;;wBAA/BC,SAAS;wBAEfQ,OAAOR,OAAOS,EAAE,EAAEC,WAAW;wBAC7BF,OAAOR,OAAOC,IAAI,EAAEU,IAAI,CAACZ,MAAME,IAAI;wBACnCO,OAAOR,OAAOE,OAAO,CAACC,MAAM,EAAEQ,IAAI,CAACZ,MAAMG,OAAO,CAACC,MAAM;wBACvDK,OAAOR,OAAOE,OAAO,CAACE,MAAM,EAAEO,IAAI,CAACZ,MAAMG,OAAO,CAACE,MAAM;wBACvDI,OAAOR,OAAOE,OAAO,CAACG,GAAG,EAAEM,IAAI,CAACZ,MAAMG,OAAO,CAACG,GAAG;wBACjDG,OAAOR,OAAOE,OAAO,CAACI,IAAI,EAAEK,IAAI,CAACZ,MAAMG,OAAO,CAACI,IAAI;;;;;;QACvD;;AACJ"}