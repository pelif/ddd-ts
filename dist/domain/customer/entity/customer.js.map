{"version":3,"sources":["../../../../src/domain/customer/entity/customer.ts"],"sourcesContent":["import Entity from \"../../@shared/entity/entity.abstract\";\nimport Address from \"../value-object/address\";\n\nexport default class Customer extends Entity {\n\n    private _name: string;\n    private _address!: Address;\n    private _active: boolean = true;\n    private _rewardPoints: number = 0;\n\n    constructor(id: string, name: string) {\n        super();\n        this._id = id;\n        this._name = name;\n        this.validate();\n    }\n\n    get name(): string {\n        return this._name;\n    }\n\n    get rewardPoints(): number {\n        return this._rewardPoints;\n    }\n\n    get address(): Address {\n        return this._address;\n    }\n\n    isActive(): boolean {\n        return this._active;\n    }\n\n    validate() {\n        if (this._name.length === 0) {\n            this.notification.addError({\n                context: \"customer\",\n                message: \"Id is required\"\n            });\n        }\n\n        if (this._id.length === 0) {\n            this.notification.addError({\n                context: \"customer\",\n                message: \"Name is required\"\n            });\n        }\n    }\n\n    changeName(name: string) {\n        this._name = name;\n        this.validate();\n    }\n\n    changeAddress(address: Address) {\n        this._address = address;\n    }\n\n    activate() {\n        if (this._address === undefined) {\n            throw new Error(\"Address is Mandatory to activate a customer\");\n        }\n        this._active = true;\n    }\n\n    deactivate() {\n        this._active = false;\n    }\n\n    addRewardPoints(points: number): void {\n        this._rewardPoints += points;\n    }\n\n    set address(address: Address) {\n        this._address = address;\n    }\n\n}"],"names":["Entity","Customer","id","name","_name","_address","_active","_rewardPoints","_id","validate","rewardPoints","address","isActive","length","notification","addError","context","message","changeName","changeAddress","activate","undefined","Error","deactivate","addRewardPoints","points"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,YAAY,uCAAuC;AAG3C,IAAA,AAAMC,yBAAN;;cAAMA;aAAAA,SAOLC,EAAU,EAAEC,IAAY;gCAPnBF;;gBAQb,kBARaA,WAEjB,wBAAQG,SAAR,KAAA,IACA,wBAAQC,YAAR,KAAA,IACA,wBAAQC,WAAmB,OAC3B,wBAAQC,iBAAwB;QAI5B,MAAKC,GAAG,GAAGN;QACX,MAAKE,KAAK,GAAGD;QACb,MAAKM,QAAQ;;;kBAXAR;;YAcbE,KAAAA;iBAAJ;gBACI,OAAO,IAAI,CAACC,KAAK;YACrB;;;YAEIM,KAAAA;iBAAJ;gBACI,OAAO,IAAI,CAACH,aAAa;YAC7B;;;YAEII,KAAAA;iBAAJ;gBACI,OAAO,IAAI,CAACN,QAAQ;YACxB;iBA8CA,aAAYM,OAAgB;gBACxB,IAAI,CAACN,QAAQ,GAAGM;YACpB;;;YA9CAC,KAAAA;mBAAAA,SAAAA;gBACI,OAAO,IAAI,CAACN,OAAO;YACvB;;;YAEAG,KAAAA;mBAAAA,SAAAA;gBACI,IAAI,IAAI,CAACL,KAAK,CAACS,MAAM,KAAK,GAAG;oBACzB,IAAI,CAACC,YAAY,CAACC,QAAQ,CAAC;wBACvBC,SAAS;wBACTC,SAAS;oBACb;gBACJ;gBAEA,IAAI,IAAI,CAACT,GAAG,CAACK,MAAM,KAAK,GAAG;oBACvB,IAAI,CAACC,YAAY,CAACC,QAAQ,CAAC;wBACvBC,SAAS;wBACTC,SAAS;oBACb;gBACJ;YACJ;;;YAEAC,KAAAA;mBAAAA,SAAAA,WAAWf,IAAY;gBACnB,IAAI,CAACC,KAAK,GAAGD;gBACb,IAAI,CAACM,QAAQ;YACjB;;;YAEAU,KAAAA;mBAAAA,SAAAA,cAAcR,OAAgB;gBAC1B,IAAI,CAACN,QAAQ,GAAGM;YACpB;;;YAEAS,KAAAA;mBAAAA,SAAAA;gBACI,IAAI,IAAI,CAACf,QAAQ,KAAKgB,WAAW;oBAC7B,MAAM,IAAIC,MAAM;gBACpB;gBACA,IAAI,CAAChB,OAAO,GAAG;YACnB;;;YAEAiB,KAAAA;mBAAAA,SAAAA;gBACI,IAAI,CAACjB,OAAO,GAAG;YACnB;;;YAEAkB,KAAAA;mBAAAA,SAAAA,gBAAgBC,MAAc;gBAC1B,IAAI,CAAClB,aAAa,IAAIkB;YAC1B;;;WApEiBxB;EAAiBD;AAAtC,SAAqBC,sBA0EpB"}