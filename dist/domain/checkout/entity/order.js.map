{"version":3,"sources":["../../../../src/domain/checkout/entity/order.ts"],"sourcesContent":["import OrderItem from \"./order_item\";\n\nexport default class Order {\n  private _id: string;\n  private _customerId: string;\n  private _items: OrderItem[];\n  private _total: number;\n\n  constructor(id: string, customerId: string, items: OrderItem[]) {\n    this._id = id;\n    this._customerId = customerId;\n    this._items = items;\n    this._total = this.total();\n    this.validate();\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  get customerId(): string {\n    return this._customerId;\n  }\n\n  get items(): OrderItem[] {\n    return this._items;\n  }\n\n  validate(): boolean {\n    if (this._id.length === 0) {\n      throw new Error(\"Id is required\");\n    }\n    if (this._customerId.length === 0) {\n      throw new Error(\"CustomerId is required\");\n    }\n    if (this._items.length === 0) {\n      throw new Error(\"Items are required\");\n    }\n\n    if (this._items.some((item) => item.quantity <= 0)) {\n      throw new Error(\"Quantity must be greater than 0\");\n    }\n\n    return true;\n  }\n\n  total(): number {\n    return this._items.reduce((acc, item) => acc + item.total(), 0);\n  }\n}"],"names":["Order","id","customerId","items","_id","_customerId","_items","_total","total","validate","length","Error","some","item","quantity","reduce","acc"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,IAAA,AAAMA,sBAAN;;aAAMA,MAMPC,EAAU,EAAEC,UAAkB,EAAEC,KAAkB;gCAN3CH;QACnB,uBAAQI,OAAR,KAAA;QACA,uBAAQC,eAAR,KAAA;QACA,uBAAQC,UAAR,KAAA;QACA,uBAAQC,UAAR,KAAA;QAGE,IAAI,CAACH,GAAG,GAAGH;QACX,IAAI,CAACI,WAAW,GAAGH;QACnB,IAAI,CAACI,MAAM,GAAGH;QACd,IAAI,CAACI,MAAM,GAAG,IAAI,CAACC,KAAK;QACxB,IAAI,CAACC,QAAQ;;kBAXIT;;YAcfC,KAAAA;iBAAJ;gBACE,OAAO,IAAI,CAACG,GAAG;YACjB;;;YAEIF,KAAAA;iBAAJ;gBACE,OAAO,IAAI,CAACG,WAAW;YACzB;;;YAEIF,KAAAA;iBAAJ;gBACE,OAAO,IAAI,CAACG,MAAM;YACpB;;;YAEAG,KAAAA;mBAAAA,SAAAA;gBACE,IAAI,IAAI,CAACL,GAAG,CAACM,MAAM,KAAK,GAAG;oBACzB,MAAM,IAAIC,MAAM;gBAClB;gBACA,IAAI,IAAI,CAACN,WAAW,CAACK,MAAM,KAAK,GAAG;oBACjC,MAAM,IAAIC,MAAM;gBAClB;gBACA,IAAI,IAAI,CAACL,MAAM,CAACI,MAAM,KAAK,GAAG;oBAC5B,MAAM,IAAIC,MAAM;gBAClB;gBAEA,IAAI,IAAI,CAACL,MAAM,CAACM,IAAI,CAAC,SAACC;2BAASA,KAAKC,QAAQ,IAAI;oBAAI;oBAClD,MAAM,IAAIH,MAAM;gBAClB;gBAEA,OAAO;YACT;;;YAEAH,KAAAA;mBAAAA,SAAAA;gBACE,OAAO,IAAI,CAACF,MAAM,CAACS,MAAM,CAAC,SAACC,KAAKH;2BAASG,MAAMH,KAAKL,KAAK;mBAAI;YAC/D;;;WA9CmBR;;AAArB,SAAqBA,mBA+CpB"}