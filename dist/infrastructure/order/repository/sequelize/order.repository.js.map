{"version":3,"sources":["../../../../../src/infrastructure/order/repository/sequelize/order.repository.ts"],"sourcesContent":["import OrderModel from \"./order.model\";\nimport OrderItemModel from \"./order-item\";\nimport Order from \"../../../../domain/checkout/entity/order\";\n\nexport default class OrderRepository {\n  async create(entity: Order): Promise<void> {\n    await OrderModel.create(\n      {\n        id: entity.id,\n        customer_id: entity.customerId,\n        total: entity.total(),\n        items: entity.items.map((item) => ({\n          id: item.id,\n          name: item.name,\n          price: item.price,\n          product_id: item.productId,\n          quantity: item.quantity,\n        })),\n      },\n      {\n        include: [{ model: OrderItemModel }],\n      }\n    );\n  }\n}"],"names":["OrderModel","OrderItemModel","OrderRepository","create","entity","id","customer_id","customerId","total","items","map","item","name","price","product_id","productId","quantity","include","model"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,gBAAgB,gBAAgB;AACvC,OAAOC,oBAAoB,eAAe;AAG3B,IAAA,AAAMC,gCAAN;;aAAMA;gCAAAA;;kBAAAA;;YACbC,KAAAA;mBAAN,SAAMA,OAAOC,MAAa;;;;;gCACxB;;oCAAMJ,WAAWG,MAAM,CACrB;wCACEE,IAAID,OAAOC,EAAE;wCACbC,aAAaF,OAAOG,UAAU;wCAC9BC,OAAOJ,OAAOI,KAAK;wCACnBC,OAAOL,OAAOK,KAAK,CAACC,GAAG,CAAC,SAACC;mDAAU;gDACjCN,IAAIM,KAAKN,EAAE;gDACXO,MAAMD,KAAKC,IAAI;gDACfC,OAAOF,KAAKE,KAAK;gDACjBC,YAAYH,KAAKI,SAAS;gDAC1BC,UAAUL,KAAKK,QAAQ;4CACzB;;oCACF,GACA;wCACEC,OAAO;4CAAG;gDAAEC,OAAOjB;4CAAe;;oCACpC;;;gCAfF;;;;;;gBAiBF;;;;WAnBmBC;;AAArB,SAAqBA,6BAoBpB"}