{"version":3,"sources":["../../../../../src/domain/usecase/product/find/find.product.integration.spec.ts"],"sourcesContent":["import { Sequelize } from \"sequelize-typescript\";\nimport ProductModel from \"../../../../infrastructure/product/repository/sequelize/product.model\";\nimport ProductRepository from \"../../../../infrastructure/product/repository/sequelize/product.repository\";\nimport FindProductUseCase from \"./find.product.usecase\";\nimport Product from \"../../../product/entity/product\";\n\ndescribe(\"Integration Test find product\", () => {\n    let sequelize: Sequelize;\n\n    beforeEach(async () => {\n        sequelize = new Sequelize({\n            dialect: \"sqlite\",\n            storage: \":memory:\",\n            logging: false,\n            sync: { force: true },\n        });\n\n        sequelize.addModels([ProductModel]);\n        await sequelize.sync();\n    });\n\n    afterEach(async () => {\n        await sequelize.close();\n    });\n\n    it(\"Should find a product\", async () => {\n        const productRepository = new ProductRepository();\n        const usecase = new FindProductUseCase(productRepository);\n\n        const product = new Product(\"123\", \"Product 1\", 10);\n        await productRepository.create(product);\n\n        const output = {\n            id: \"123\",\n            name: \"Product 1\",\n            price: 10\n        }\n\n        const result = await usecase.execute({ id: \"123\" });\n\n        expect(result).toEqual(output);\n    });\n}); "],"names":["Sequelize","ProductModel","ProductRepository","FindProductUseCase","Product","describe","sequelize","beforeEach","dialect","storage","logging","sync","force","addModels","afterEach","close","it","productRepository","usecase","product","output","result","create","id","name","price","execute","expect","toEqual"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAS,QAAQ,uBAAuB;AACjD,OAAOC,kBAAkB,wEAAwE;AACjG,OAAOC,uBAAuB,6EAA6E;AAC3G,OAAOC,wBAAwB,yBAAyB;AACxD,OAAOC,aAAa,kCAAkC;AAEtDC,SAAS,iCAAiC;IACtC,IAAIC;IAEJC,WAAW;;;;;wBACPD,YAAY,IAAIN,UAAU;4BACtBQ,SAAS;4BACTC,SAAS;4BACTC,SAAS;4BACTC,MAAM;gCAAEC,OAAO;4BAAK;wBACxB;wBAEAN,UAAUO,SAAS;4BAAEZ;;wBACrB;;4BAAMK,UAAUK,IAAI;;;wBAApB;;;;;;QACJ;;IAEAG,UAAU;;;;;wBACN;;4BAAMR,UAAUS,KAAK;;;wBAArB;;;;;;QACJ;;IAEAC,GAAG,yBAAyB;;gBAClBC,mBACAC,SAEAC,SAGAC,QAMAC;;;;wBAZAJ,oBAAoB,IAAIf;wBACxBgB,UAAU,IAAIf,mBAAmBc;wBAEjCE,UAAU,IAAIf,QAAQ,OAAO,aAAa;wBAChD;;4BAAMa,kBAAkBK,MAAM,CAACH;;;wBAA/B;wBAEMC,SAAS;4BACXG,IAAI;4BACJC,MAAM;4BACNC,OAAO;wBACX;wBAEe;;4BAAMP,QAAQQ,OAAO,CAAC;gCAAEH,IAAI;4BAAM;;;wBAA3CF,SAAS;wBAEfM,OAAON,QAAQO,OAAO,CAACR;;;;;;QAC3B;;AACJ"}