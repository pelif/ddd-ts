{"version":3,"sources":["../../../../../src/domain/usecase/product/update/update.product.integration.spec.ts"],"sourcesContent":["import { Sequelize } from \"sequelize-typescript\";\nimport ProductModel from \"../../../../infrastructure/product/repository/sequelize/product.model\";\nimport ProductRepository from \"../../../../infrastructure/product/repository/sequelize/product.repository\";\nimport UpdateProductUseCase from \"./update.product.usecase\";\nimport Product from \"../../../product/entity/product\";\n\ndescribe(\"Integration Test update product\", () => {\n    let sequelize: Sequelize;\n\n    beforeEach(async () => {\n        sequelize = new Sequelize({\n            dialect: \"sqlite\",\n            storage: \":memory:\",\n            logging: false,\n            sync: { force: true },\n        });\n\n        sequelize.addModels([ProductModel]);\n        await sequelize.sync();\n    });\n\n    afterEach(async () => {\n        await sequelize.close();\n    });\n\n    it(\"Should update a product\", async () => {\n        const productRepository = new ProductRepository();\n        const usecase = new UpdateProductUseCase(productRepository);\n\n        const product = new Product(\"123\", \"Product 1\", 10);\n        await productRepository.create(product);\n\n        const input = {\n            id: \"123\",\n            name: \"Product 2\",\n            price: 15\n        }\n\n        const output = {\n            id: \"123\",\n            name: \"Product 2\",\n            price: 15\n        }\n\n        const result = await usecase.execute(input);\n\n        expect(result).toEqual(output);\n    });\n}); "],"names":["Sequelize","ProductModel","ProductRepository","UpdateProductUseCase","Product","describe","sequelize","beforeEach","dialect","storage","logging","sync","force","addModels","afterEach","close","it","productRepository","usecase","product","input","output","result","create","id","name","price","execute","expect","toEqual"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAS,QAAQ,uBAAuB;AACjD,OAAOC,kBAAkB,wEAAwE;AACjG,OAAOC,uBAAuB,6EAA6E;AAC3G,OAAOC,0BAA0B,2BAA2B;AAC5D,OAAOC,aAAa,kCAAkC;AAEtDC,SAAS,mCAAmC;IACxC,IAAIC;IAEJC,WAAW;;;;;wBACPD,YAAY,IAAIN,UAAU;4BACtBQ,SAAS;4BACTC,SAAS;4BACTC,SAAS;4BACTC,MAAM;gCAAEC,OAAO;4BAAK;wBACxB;wBAEAN,UAAUO,SAAS;4BAAEZ;;wBACrB;;4BAAMK,UAAUK,IAAI;;;wBAApB;;;;;;QACJ;;IAEAG,UAAU;;;;;wBACN;;4BAAMR,UAAUS,KAAK;;;wBAArB;;;;;;QACJ;;IAEAC,GAAG,2BAA2B;;gBACpBC,mBACAC,SAEAC,SAGAC,OAMAC,QAMAC;;;;wBAlBAL,oBAAoB,IAAIf;wBACxBgB,UAAU,IAAIf,qBAAqBc;wBAEnCE,UAAU,IAAIf,QAAQ,OAAO,aAAa;wBAChD;;4BAAMa,kBAAkBM,MAAM,CAACJ;;;wBAA/B;wBAEMC,QAAQ;4BACVI,IAAI;4BACJC,MAAM;4BACNC,OAAO;wBACX;wBAEML,SAAS;4BACXG,IAAI;4BACJC,MAAM;4BACNC,OAAO;wBACX;wBAEe;;4BAAMR,QAAQS,OAAO,CAACP;;;wBAA/BE,SAAS;wBAEfM,OAAON,QAAQO,OAAO,CAACR;;;;;;QAC3B;;AACJ"}