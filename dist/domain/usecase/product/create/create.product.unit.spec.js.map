{"version":3,"sources":["../../../../../src/domain/usecase/product/create/create.product.unit.spec.ts"],"sourcesContent":["import CreateProductUseCase from \"./create.product.usecase\";\n\nconst input = {\n    type: \"a\",  // Use um tipo vÃ¡lido suportado pelo ProductFactory\n    name: \"Product 01\",\n    price: 100,\n}\n\nconst MockRepository = () => {\n    return {\n        create: jest.fn(),\n        update: jest.fn(),\n        find: jest.fn(),\n        findAll: jest.fn(),\n    }\n}\n\ndescribe(\"Unit Test create product use case\", () => {\n\n    it(\"Should create a product\", async () => {\n        const productRepository = MockRepository();\n        const usecase = new CreateProductUseCase(productRepository);\n\n        const output = await usecase.execute(input);\n\n        expect(output).toEqual({\n            id: expect.any(String),\n            name: input.name,\n            price: input.price\n        });\n\n    });\n\n    it(\"Should throw an error when name is missing\", async () => {\n        const productRepository = MockRepository();\n        const usecase = new CreateProductUseCase(productRepository);\n\n        input.name = \"\";\n\n        await expect(usecase.execute(input))\n            .rejects\n            .toThrow(\"Name is required\");\n    });\n\n    it(\"Should throw an error when price is missing\", async () => {\n        const productRepository = MockRepository();\n        const usecase = new CreateProductUseCase(productRepository);\n\n        input.price = 0;\n\n        await expect(usecase.execute(input))\n            .rejects\n            .toThrow(\"Price must be greater than zero\");\n    });\n\n});"],"names":["CreateProductUseCase","input","type","name","price","MockRepository","create","jest","fn","update","find","findAll","describe","it","productRepository","usecase","output","execute","expect","toEqual","id","any","String","rejects","toThrow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,0BAA0B,2BAA2B;AAE5D,IAAMC,QAAQ;IACVC,MAAM;IACNC,MAAM;IACNC,OAAO;AACX;AAEA,IAAMC,iBAAiB;IACnB,OAAO;QACHC,QAAQC,KAAKC,EAAE;QACfC,QAAQF,KAAKC,EAAE;QACfE,MAAMH,KAAKC,EAAE;QACbG,SAASJ,KAAKC,EAAE;IACpB;AACJ;AAEAI,SAAS,qCAAqC;IAE1CC,GAAG,2BAA2B;;gBACpBC,mBACAC,SAEAC;;;;wBAHAF,oBAAoBT;wBACpBU,UAAU,IAAIf,qBAAqBc;wBAE1B;;4BAAMC,QAAQE,OAAO,CAAChB;;;wBAA/Be,SAAS;wBAEfE,OAAOF,QAAQG,OAAO,CAAC;4BACnBC,IAAIF,OAAOG,GAAG,CAACC;4BACfnB,MAAMF,MAAME,IAAI;4BAChBC,OAAOH,MAAMG,KAAK;wBACtB;;;;;;QAEJ;;IAEAS,GAAG,8CAA8C;;gBACvCC,mBACAC;;;;wBADAD,oBAAoBT;wBACpBU,UAAU,IAAIf,qBAAqBc;wBAEzCb,MAAME,IAAI,GAAG;wBAEb;;4BAAMe,OAAOH,QAAQE,OAAO,CAAChB,QACxBsB,OAAO,CACPC,OAAO,CAAC;;;wBAFb;;;;;;QAGJ;;IAEAX,GAAG,+CAA+C;;gBACxCC,mBACAC;;;;wBADAD,oBAAoBT;wBACpBU,UAAU,IAAIf,qBAAqBc;wBAEzCb,MAAMG,KAAK,GAAG;wBAEd;;4BAAMc,OAAOH,QAAQE,OAAO,CAAChB,QACxBsB,OAAO,CACPC,OAAO,CAAC;;;wBAFb;;;;;;QAGJ;;AAEJ"}