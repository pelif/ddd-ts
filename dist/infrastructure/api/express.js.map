{"version":3,"sources":["../../../src/infrastructure/api/express.ts"],"sourcesContent":["import express, { Express } from 'express';\nimport { Sequelize } from 'sequelize-typescript';\nimport CustomerModel from '../customer/repository/sequelize/customer.model';\nimport ProductModel from '../product/repository/sequelize/product.model';\nimport { customerRoute } from './routes/customer.route';\nimport { productRoute } from './routes/product.route';\n\nexport const app: Express = express();\n\napp.use(express.json());\napp.use(\"/customer\", customerRoute);\napp.use(\"/product\", productRoute);\n\nexport let sequelize: Sequelize;\n\nasync function setupDb() {\n    sequelize = new Sequelize({\n        dialect: 'sqlite',\n        storage: ':memory:',\n        logging: false,\n    });\n\n    await sequelize.addModels([CustomerModel, ProductModel]);\n    await sequelize.sync();\n}\n\nsetupDb();\n\napp.get('/ping', (req, res) => {\n    res.send('pong');\n});"],"names":["express","Sequelize","CustomerModel","ProductModel","customerRoute","productRoute","app","use","json","sequelize","setupDb","dialect","storage","logging","addModels","sync","get","req","res","send"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,aAA0B,UAAU;AAC3C,SAASC,SAAS,QAAQ,uBAAuB;AACjD,OAAOC,mBAAmB,kDAAkD;AAC5E,OAAOC,kBAAkB,gDAAgD;AACzE,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,YAAY,QAAQ,yBAAyB;AAEtD,OAAO,IAAMC,MAAeN,UAAU;AAEtCM,IAAIC,GAAG,CAACP,QAAQQ,IAAI;AACpBF,IAAIC,GAAG,CAAC,aAAaH;AACrBE,IAAIC,GAAG,CAAC,YAAYF;AAEpB,OAAO,IAAII,UAAqB;AAEhC,SAAeC;;;;;oBACXD,YAAY,IAAIR,UAAU;wBACtBU,SAAS;wBACTC,SAAS;wBACTC,SAAS;oBACb;oBAEA;;wBAAMJ,UAAUK,SAAS;4BAAEZ;4BAAeC;;;;oBAA1C;oBACA;;wBAAMM,UAAUM,IAAI;;;oBAApB;;;;;;IACJ;;AAEAL;AAEAJ,IAAIU,GAAG,CAAC,SAAS,SAACC,KAAKC;IACnBA,IAAIC,IAAI,CAAC;AACb"}