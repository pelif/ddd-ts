{"version":3,"sources":["../../../../../src/infrastructure/product/repository/sequelize/product.repository.ts"],"sourcesContent":["import Product from \"../../../../domain/product/entity/product\";\nimport ProductRepositoryInterface from \"../../../../domain/product/repository/product-repository-interface\";\nimport ProductModel from \"./product.model\";\n\nexport default class ProductRepository implements ProductRepositoryInterface {\n\n    async create(entity: Product): Promise<void> {\n        await ProductModel.create({\n            id: entity.id, \n            name: entity.name, \n            price: entity.price\n        }); \n    }\n\n    async update(entity: Product): Promise<void> {\n        await ProductModel.update(\n            {\n                name: entity.name, \n                price: entity.price\n            }, \n            {\n                where: {\n                    id: entity.id\n                }\n            }    \n        ); \n    } \n\n    async find(id: string): Promise<Product> {\n        const productModel = await ProductModel.findOne({ where: {id}}); \n        return new Product(productModel.id, productModel.name, productModel.price); \n    }\n\n    async findAll(): Promise<Product[]> {\n        const productModels = await ProductModel.findAll();\n        return productModels.map((productModel) => \n            new Product(productModel.id, productModel.name, productModel.price)\n        ); \n    } \n\n\n}\n"],"names":["Product","ProductModel","ProductRepository","create","entity","id","name","price","update","where","find","productModel","findOne","findAll","productModels","map"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,aAAa,4CAA4C;AAEhE,OAAOC,kBAAkB,kBAAkB;AAE5B,IAAA,AAAMC,kCAAN;;aAAMA;gCAAAA;;kBAAAA;;YAEXC,KAAAA;mBAAN,SAAMA,OAAOC,MAAe;;;;;gCACxB;;oCAAMH,aAAaE,MAAM,CAAC;wCACtBE,IAAID,OAAOC,EAAE;wCACbC,MAAMF,OAAOE,IAAI;wCACjBC,OAAOH,OAAOG,KAAK;oCACvB;;;gCAJA;;;;;;gBAKJ;;;;YAEMC,KAAAA;mBAAN,SAAMA,OAAOJ,MAAe;;;;;gCACxB;;oCAAMH,aAAaO,MAAM,CACrB;wCACIF,MAAMF,OAAOE,IAAI;wCACjBC,OAAOH,OAAOG,KAAK;oCACvB,GACA;wCACIE,OAAO;4CACHJ,IAAID,OAAOC,EAAE;wCACjB;oCACJ;;;gCATJ;;;;;;gBAWJ;;;;YAEMK,KAAAA;mBAAN,SAAMA,KAAKL,EAAU;;wBACXM;;;;gCAAe;;oCAAMV,aAAaW,OAAO,CAAC;wCAAEH,OAAO;4CAACJ,IAAAA;wCAAE;oCAAC;;;gCAAvDM,eAAe;gCACrB;;oCAAO,IAAIX,QAAQW,aAAaN,EAAE,EAAEM,aAAaL,IAAI,EAAEK,aAAaJ,KAAK;;;;gBAC7E;;;;YAEMM,KAAAA;mBAAN,SAAMA;;wBACIC;;;;gCAAgB;;oCAAMb,aAAaY,OAAO;;;gCAA1CC,gBAAgB;gCACtB;;oCAAOA,cAAcC,GAAG,CAAC,SAACJ;+CACtB,IAAIX,QAAQW,aAAaN,EAAE,EAAEM,aAAaL,IAAI,EAAEK,aAAaJ,KAAK;;;;;gBAE1E;;;;WAlCiBL;;AAArB,SAAqBA,+BAqCpB"}