{"version":3,"sources":["../../../../../src/domain/usecase/product/create/create.product.integration.spec.ts"],"sourcesContent":["import { Sequelize } from \"sequelize-typescript\";\nimport ProductModel from \"../../../../infrastructure/product/repository/sequelize/product.model\";\nimport ProductRepository from \"../../../../infrastructure/product/repository/sequelize/product.repository\";\nimport CreateProductUseCase from \"./create.product.usecase\";\n\ndescribe(\"Integration Test create product\", () => {\n    let sequelize: Sequelize;\n\n    beforeEach(async () => {\n        sequelize = new Sequelize({\n            dialect: \"sqlite\",\n            storage: \":memory:\",\n            logging: false,\n            sync: { force: true },\n        });\n\n        sequelize.addModels([ProductModel]);\n        await sequelize.sync();\n    });\n\n    afterEach(async () => {\n        await sequelize.close();\n    });\n\n    it(\"Should create a product\", async () => {\n        const productRepository = new ProductRepository();\n        const usecase = new CreateProductUseCase(productRepository);\n\n        const input = {\n            name: \"Product 1\",\n            price: 10,\n            type: \"a\"\n        }\n\n        const output = await usecase.execute(input);\n\n        expect(output.id).toBeDefined();\n        expect(output.name).toBe(input.name);\n        expect(output.price).toBe(input.price);\n\n    });\n}); "],"names":["Sequelize","ProductModel","ProductRepository","CreateProductUseCase","describe","sequelize","beforeEach","dialect","storage","logging","sync","force","addModels","afterEach","close","it","productRepository","usecase","input","output","name","price","type","execute","expect","id","toBeDefined","toBe"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAS,QAAQ,uBAAuB;AACjD,OAAOC,kBAAkB,wEAAwE;AACjG,OAAOC,uBAAuB,6EAA6E;AAC3G,OAAOC,0BAA0B,2BAA2B;AAE5DC,SAAS,mCAAmC;IACxC,IAAIC;IAEJC,WAAW;;;;;wBACPD,YAAY,IAAIL,UAAU;4BACtBO,SAAS;4BACTC,SAAS;4BACTC,SAAS;4BACTC,MAAM;gCAAEC,OAAO;4BAAK;wBACxB;wBAEAN,UAAUO,SAAS;4BAAEX;;wBACrB;;4BAAMI,UAAUK,IAAI;;;wBAApB;;;;;;QACJ;;IAEAG,UAAU;;;;;wBACN;;4BAAMR,UAAUS,KAAK;;;wBAArB;;;;;;QACJ;;IAEAC,GAAG,2BAA2B;;gBACpBC,mBACAC,SAEAC,OAMAC;;;;wBATAH,oBAAoB,IAAId;wBACxBe,UAAU,IAAId,qBAAqBa;wBAEnCE,QAAQ;4BACVE,MAAM;4BACNC,OAAO;4BACPC,MAAM;wBACV;wBAEe;;4BAAML,QAAQM,OAAO,CAACL;;;wBAA/BC,SAAS;wBAEfK,OAAOL,OAAOM,EAAE,EAAEC,WAAW;wBAC7BF,OAAOL,OAAOC,IAAI,EAAEO,IAAI,CAACT,MAAME,IAAI;wBACnCI,OAAOL,OAAOE,KAAK,EAAEM,IAAI,CAACT,MAAMG,KAAK;;;;;;QAEzC;;AACJ"}