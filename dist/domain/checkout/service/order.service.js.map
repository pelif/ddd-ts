{"version":3,"sources":["../../../../src/domain/checkout/service/order.service.ts"],"sourcesContent":["import Customer from \"../../customer/entity/customer\";\nimport Order from \"../entity/order\";\nimport OrderItem from \"../entity/order_item\";\nimport { v4 as uuid } from \"uuid\";\n\nexport default class OrderService {\n\n    static placeOrder(customer: Customer, items: OrderItem[]): Order {\n        if(items.length === 0) {\n            throw new Error(\"Order must have at least one item\"); \n        }\n\n        const order = new Order(uuid(), customer.id, items); \n        customer.addRewardPoints(order.total()/2); \n        return order; \n    }\n\n    static total(orders: Order[]): number {\n        return orders.reduce((acc, order) => acc + order.total(), 0); \n    }\n}"],"names":["Order","v4","uuid","OrderService","placeOrder","customer","items","length","Error","order","id","addRewardPoints","total","orders","reduce","acc"],"mappings":";;;;;;;;;;;;;;;;;;;AACA,OAAOA,WAAW,kBAAkB;AAEpC,SAASC,MAAMC,IAAI,QAAQ,OAAO;AAEnB,IAAA,AAAMC,6BAAN;;aAAMA;gCAAAA;;kBAAAA;;YAEVC,KAAAA;mBAAP,SAAOA,WAAWC,QAAkB,EAAEC,KAAkB;gBACpD,IAAGA,MAAMC,MAAM,KAAK,GAAG;oBACnB,MAAM,IAAIC,MAAM;gBACpB;gBAEA,IAAMC,QAAQ,IAAIT,MAAME,QAAQG,SAASK,EAAE,EAAEJ;gBAC7CD,SAASM,eAAe,CAACF,MAAMG,KAAK,KAAG;gBACvC,OAAOH;YACX;;;YAEOG,KAAAA;mBAAP,SAAOA,MAAMC,MAAe;gBACxB,OAAOA,OAAOC,MAAM,CAAC,SAACC,KAAKN;2BAAUM,MAAMN,MAAMG,KAAK;mBAAI;YAC9D;;;WAdiBT;;AAArB,SAAqBA,0BAepB"}