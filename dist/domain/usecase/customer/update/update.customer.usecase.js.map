{"version":3,"sources":["../../../../../src/domain/usecase/customer/update/update.customer.usecase.ts"],"sourcesContent":["import CustomerRepositoryInterface from \"../../../customer/repository/customer-repository.interface\";\nimport Address from \"../../../customer/value-object/address\";\nimport { InputUpdateCustomerDto, OutputUpdateCustomerDto } from \"./update.customer.dto\";\n\nexport default class UpdateCustomerUseCase {\n\n    private customerRepository: CustomerRepositoryInterface;\n\n    constructor(customerRepository: CustomerRepositoryInterface) {\n        this.customerRepository = customerRepository;\n    }\n\n    async execute(input: InputUpdateCustomerDto): Promise<OutputUpdateCustomerDto> {\n        const customer = await this.customerRepository.find(input.id);\n        customer.changeName(input.name);\n        customer.changeAddress(new Address(\n            input.address.street,\n            input.address.number,\n            input.address.zip,\n            input.address.city\n        ));\n        await this.customerRepository.update(customer);\n        return {\n            id: customer.id,\n            name: customer.name,\n            address: {\n                street: customer.address.street,\n                number: customer.address.number,\n                zip: customer.address.zip,\n                city: customer.address.city\n            }\n        };\n    }\n\n}   "],"names":["Address","UpdateCustomerUseCase","customerRepository","execute","input","customer","find","id","changeName","name","changeAddress","address","street","number","zip","city","update"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAOA,aAAa,yCAAyC;AAG9C,IAAA,AAAMC,sCAAN;;aAAMA,sBAILC,kBAA+C;gCAJ1CD;QAEjB,uBAAQC,sBAAR,KAAA;QAGI,IAAI,CAACA,kBAAkB,GAAGA;;kBALbD;;YAQXE,KAAAA;mBAAN,SAAMA,QAAQC,KAA6B;;wBACjCC;;;;gCAAW;;oCAAM,IAAI,CAACH,kBAAkB,CAACI,IAAI,CAACF,MAAMG,EAAE;;;gCAAtDF,WAAW;gCACjBA,SAASG,UAAU,CAACJ,MAAMK,IAAI;gCAC9BJ,SAASK,aAAa,CAAC,IAAIV,QACvBI,MAAMO,OAAO,CAACC,MAAM,EACpBR,MAAMO,OAAO,CAACE,MAAM,EACpBT,MAAMO,OAAO,CAACG,GAAG,EACjBV,MAAMO,OAAO,CAACI,IAAI;gCAEtB;;oCAAM,IAAI,CAACb,kBAAkB,CAACc,MAAM,CAACX;;;gCAArC;gCACA;;oCAAO;wCACHE,IAAIF,SAASE,EAAE;wCACfE,MAAMJ,SAASI,IAAI;wCACnBE,SAAS;4CACLC,QAAQP,SAASM,OAAO,CAACC,MAAM;4CAC/BC,QAAQR,SAASM,OAAO,CAACE,MAAM;4CAC/BC,KAAKT,SAASM,OAAO,CAACG,GAAG;4CACzBC,MAAMV,SAASM,OAAO,CAACI,IAAI;wCAC/B;oCACJ;;;;gBACJ;;;;WA5BiBd;;AAArB,SAAqBA,mCA8BpB"}