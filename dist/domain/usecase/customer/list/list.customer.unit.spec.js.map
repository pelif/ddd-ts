{"version":3,"sources":["../../../../../src/domain/usecase/customer/list/list.customer.unit.spec.ts"],"sourcesContent":["import CustomerFactory from \"../../../customer/factory/customer.factory\";\nimport Address from \"../../../customer/value-object/address\";\nimport ListCustomerUseCase from \"./list.customer.usecase\";\n\nconst customer1 = CustomerFactory.createWithAddress(\"Customer 1\", new Address(\n    \"Street 1\", 9781, \"Zipcode1\", \"City 1\"\n));\n\nconst customer2 = CustomerFactory.createWithAddress(\"Customer 2\", new Address(\n    \"Street 2\", 9781, \"Zipcode2\", \"City 2\"\n));\n\n\n\nconst MockRepository = () => {\n    return {\n        create: jest.fn(),\n        update: jest.fn(),\n        find: jest.fn(),\n        findAll: jest.fn().mockReturnValue(Promise.resolve([customer1, customer2])),\n    }\n}\n\ndescribe(\"Unit Test list customer use case\", () => {\n    it(\"Should list all customers\", async () => {\n        const customerRepository = MockRepository();\n        const usecase = new ListCustomerUseCase(customerRepository);\n\n        const output = await usecase.execute({});\n\n        expect(output.customers.length).toBe(2);\n        expect(output.customers[0].id).toBe(customer1.id);\n        expect(output.customers[0].name).toBe(customer1.name);\n        expect(output.customers[0].address.street).toBe(customer1.address.street);\n        expect(output.customers[0].address.number).toBe(customer1.address.number);\n        expect(output.customers[0].address.zip).toBe(customer1.address.zip);\n        expect(output.customers[0].address.city).toBe(customer1.address.city);\n\n        expect(output.customers[1].id).toBe(customer2.id);\n        expect(output.customers[1].name).toBe(customer2.name);\n        expect(output.customers[1].address.street).toBe(customer2.address.street);\n        expect(output.customers[1].address.number).toBe(customer2.address.number);\n        expect(output.customers[1].address.zip).toBe(customer2.address.zip);\n        expect(output.customers[1].address.city).toBe(customer2.address.city);\n    });\n});\n"],"names":["CustomerFactory","Address","ListCustomerUseCase","customer1","createWithAddress","customer2","MockRepository","create","jest","fn","update","find","findAll","mockReturnValue","Promise","resolve","describe","it","customerRepository","usecase","output","execute","expect","customers","length","toBe","id","name","address","street","number","zip","city"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,qBAAqB,6CAA6C;AACzE,OAAOC,aAAa,yCAAyC;AAC7D,OAAOC,yBAAyB,0BAA0B;AAE1D,IAAMC,YAAYH,gBAAgBI,iBAAiB,CAAC,cAAc,IAAIH,QAClE,YAAY,MAAM,YAAY;AAGlC,IAAMI,YAAYL,gBAAgBI,iBAAiB,CAAC,cAAc,IAAIH,QAClE,YAAY,MAAM,YAAY;AAKlC,IAAMK,iBAAiB;IACnB,OAAO;QACHC,QAAQC,KAAKC,EAAE;QACfC,QAAQF,KAAKC,EAAE;QACfE,MAAMH,KAAKC,EAAE;QACbG,SAASJ,KAAKC,EAAE,GAAGI,eAAe,CAACC,QAAQC,OAAO,CAAC;YAACZ;YAAWE;SAAU;IAC7E;AACJ;AAEAW,SAAS,oCAAoC;IACzCC,GAAG,6BAA6B;;gBACtBC,oBACAC,SAEAC;;;;wBAHAF,qBAAqBZ;wBACrBa,UAAU,IAAIjB,oBAAoBgB;wBAEzB;;4BAAMC,QAAQE,OAAO,CAAC,CAAC;;;wBAAhCD,SAAS;wBAEfE,OAAOF,OAAOG,SAAS,CAACC,MAAM,EAAEC,IAAI,CAAC;wBACrCH,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACG,EAAE,EAAED,IAAI,CAACtB,UAAUuB,EAAE;wBAChDJ,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACI,IAAI,EAAEF,IAAI,CAACtB,UAAUwB,IAAI;wBACpDL,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACC,MAAM,EAAEJ,IAAI,CAACtB,UAAUyB,OAAO,CAACC,MAAM;wBACxEP,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACE,MAAM,EAAEL,IAAI,CAACtB,UAAUyB,OAAO,CAACE,MAAM;wBACxER,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACG,GAAG,EAAEN,IAAI,CAACtB,UAAUyB,OAAO,CAACG,GAAG;wBAClET,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACI,IAAI,EAAEP,IAAI,CAACtB,UAAUyB,OAAO,CAACI,IAAI;wBAEpEV,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACG,EAAE,EAAED,IAAI,CAACpB,UAAUqB,EAAE;wBAChDJ,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACI,IAAI,EAAEF,IAAI,CAACpB,UAAUsB,IAAI;wBACpDL,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACC,MAAM,EAAEJ,IAAI,CAACpB,UAAUuB,OAAO,CAACC,MAAM;wBACxEP,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACE,MAAM,EAAEL,IAAI,CAACpB,UAAUuB,OAAO,CAACE,MAAM;wBACxER,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACG,GAAG,EAAEN,IAAI,CAACpB,UAAUuB,OAAO,CAACG,GAAG;wBAClET,OAAOF,OAAOG,SAAS,CAAC,EAAE,CAACK,OAAO,CAACI,IAAI,EAAEP,IAAI,CAACpB,UAAUuB,OAAO,CAACI,IAAI;;;;;;QACxE;;AACJ"}