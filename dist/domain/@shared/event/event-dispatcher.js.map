{"version":3,"sources":["../../../../src/domain/@shared/event/event-dispatcher.ts"],"sourcesContent":["import EventDispatcherInterface from \"./event-dispatcher.interface\";\nimport EventHandlerInterface from \"./event-handler.interface\";\nimport EventInterface from \"./event.interface\";\n\nexport default class EventDispatcher implements EventDispatcherInterface {\n\n    private eventHandlers: { [eventName: string]: EventHandlerInterface[] } = {};\n\n    get getEventHandlers(): { [eventName: string]: EventHandlerInterface[] } {\n        return this.eventHandlers;\n    }\n\n    notify(event: EventInterface): void {\n        const eventName = event.constructor.name; \n        if(this.eventHandlers[eventName]) {\n            this.eventHandlers[eventName].forEach((eventHandler) => {\n                eventHandler.handle(event);\n            }); \n        }\n    }\n\n    register(eventName: string, eventHandler: EventHandlerInterface<EventInterface>): void {\n        if(!this.eventHandlers[eventName]) {\n            this.eventHandlers[eventName] = []; \n        }\n        this.eventHandlers[eventName].push(eventHandler); \n    }\n\n    unregister(eventName: string, eventHandler: EventHandlerInterface<EventInterface>): void {\n        if(this.eventHandlers[eventName]) {\n            const index = this.eventHandlers[eventName].indexOf(eventHandler);\n            if(index !== -1) {\n                this.eventHandlers[eventName].splice(index, 1);\n            }\n        }\n    }\n\n    unregisterAll(): void {\n        this.eventHandlers = {};\n    }\n}"],"names":["EventDispatcher","eventHandlers","getEventHandlers","notify","event","eventName","name","forEach","eventHandler","handle","register","push","unregister","index","indexOf","splice","unregisterAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIe,IAAA,AAAMA,gCAAN;;aAAMA;gCAAAA;QAEjB,uBAAQC,iBAAkE,CAAC;;kBAF1DD;;YAIbE,KAAAA;iBAAJ;gBACI,OAAO,IAAI,CAACD,aAAa;YAC7B;;;YAEAE,KAAAA;mBAAAA,SAAAA,OAAOC,KAAqB;gBACxB,IAAMC,YAAYD,MAAM,WAAW,CAACE,IAAI;gBACxC,IAAG,IAAI,CAACL,aAAa,CAACI,UAAU,EAAE;oBAC9B,IAAI,CAACJ,aAAa,CAACI,UAAU,CAACE,OAAO,CAAC,SAACC;wBACnCA,aAAaC,MAAM,CAACL;oBACxB;gBACJ;YACJ;;;YAEAM,KAAAA;mBAAAA,SAAAA,SAASL,SAAiB,EAAEG,YAAmD;gBAC3E,IAAG,CAAC,IAAI,CAACP,aAAa,CAACI,UAAU,EAAE;oBAC/B,IAAI,CAACJ,aAAa,CAACI,UAAU,GAAG,EAAE;gBACtC;gBACA,IAAI,CAACJ,aAAa,CAACI,UAAU,CAACM,IAAI,CAACH;YACvC;;;YAEAI,KAAAA;mBAAAA,SAAAA,WAAWP,SAAiB,EAAEG,YAAmD;gBAC7E,IAAG,IAAI,CAACP,aAAa,CAACI,UAAU,EAAE;oBAC9B,IAAMQ,QAAQ,IAAI,CAACZ,aAAa,CAACI,UAAU,CAACS,OAAO,CAACN;oBACpD,IAAGK,UAAU,CAAC,GAAG;wBACb,IAAI,CAACZ,aAAa,CAACI,UAAU,CAACU,MAAM,CAACF,OAAO;oBAChD;gBACJ;YACJ;;;YAEAG,KAAAA;mBAAAA,SAAAA;gBACI,IAAI,CAACf,aAAa,GAAG,CAAC;YAC1B;;;WAnCiBD;;AAArB,SAAqBA,6BAoCpB"}