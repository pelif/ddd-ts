{"version":3,"sources":["../../../../../src/domain/usecase/product/find/find.product.unit.spec.ts"],"sourcesContent":["import Product from \"../../../product/entity/product\";\nimport { v4 as uuid } from \"uuid\";\nimport FindProductUseCase from \"./find.product.usecase\";\n\nconst product = new Product(uuid(), \"Product 1\", 10);\n\nconst MockRepository = () => {\n    return {\n        find: jest.fn().mockReturnValue(Promise.resolve(product)),\n        findAll: jest.fn(),\n        create: jest.fn(),\n        update: jest.fn(),\n        delete: jest.fn()\n    }\n}\n\ndescribe(\"Test find product use case\", () => {\n\n    it(\"Should find a product\", async () => {\n\n        const productRepository = MockRepository();\n        const usecase = new FindProductUseCase(productRepository);\n\n        const input = {\n            id: product.id,\n        }\n\n        const output = {\n            id: expect.any(String),\n            name: \"Product 1\",\n            price: 10\n        }\n\n        const result = await usecase.execute(input);\n\n        expect(result).toEqual(output);\n    });\n\n\n\n    it(\"Should throw an error when product is not found\", async () => {\n\n        const productRepository = MockRepository();\n        productRepository.find.mockImplementationOnce(() => {\n            throw new Error(\"Product not found\");\n        });\n        const usecase = new FindProductUseCase(productRepository);\n\n        const input = {\n            id: uuid()\n        }\n\n        await expect(usecase.execute(input))\n            .rejects\n            .toThrow(\"Product not found\");\n    });\n\n}); "],"names":["Product","v4","uuid","FindProductUseCase","product","MockRepository","find","jest","fn","mockReturnValue","Promise","resolve","findAll","create","update","delete","describe","it","productRepository","usecase","input","output","result","id","expect","any","String","name","price","execute","toEqual","mockImplementationOnce","Error","rejects","toThrow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,aAAa,kCAAkC;AACtD,SAASC,MAAMC,IAAI,QAAQ,OAAO;AAClC,OAAOC,wBAAwB,yBAAyB;AAExD,IAAMC,UAAU,IAAIJ,QAAQE,QAAQ,aAAa;AAEjD,IAAMG,iBAAiB;IACnB,OAAO;QACHC,MAAMC,KAAKC,EAAE,GAAGC,eAAe,CAACC,QAAQC,OAAO,CAACP;QAChDQ,SAASL,KAAKC,EAAE;QAChBK,QAAQN,KAAKC,EAAE;QACfM,QAAQP,KAAKC,EAAE;QACfO,QAAQR,KAAKC,EAAE;IACnB;AACJ;AAEAQ,SAAS,8BAA8B;IAEnCC,GAAG,yBAAyB;;gBAElBC,mBACAC,SAEAC,OAIAC,QAMAC;;;;wBAbAJ,oBAAoBb;wBACpBc,UAAU,IAAIhB,mBAAmBe;wBAEjCE,QAAQ;4BACVG,IAAInB,QAAQmB,EAAE;wBAClB;wBAEMF,SAAS;4BACXE,IAAIC,OAAOC,GAAG,CAACC;4BACfC,MAAM;4BACNC,OAAO;wBACX;wBAEe;;4BAAMT,QAAQU,OAAO,CAACT;;;wBAA/BE,SAAS;wBAEfE,OAAOF,QAAQQ,OAAO,CAACT;;;;;;QAC3B;;IAIAJ,GAAG,mDAAmD;;gBAE5CC,mBAIAC,SAEAC;;;;wBANAF,oBAAoBb;wBAC1Ba,kBAAkBZ,IAAI,CAACyB,sBAAsB,CAAC;4BAC1C,MAAM,IAAIC,MAAM;wBACpB;wBACMb,UAAU,IAAIhB,mBAAmBe;wBAEjCE,QAAQ;4BACVG,IAAIrB;wBACR;wBAEA;;4BAAMsB,OAAOL,QAAQU,OAAO,CAACT,QACxBa,OAAO,CACPC,OAAO,CAAC;;;wBAFb;;;;;;QAGJ;;AAEJ"}