{"version":3,"sources":["../../../../../src/domain/usecase/product/list/list.product.unit.spec.ts"],"sourcesContent":["import ProductFactory from \"../../../product/factory/product.factory\";\nimport ListProductUseCase from \"./list.product.usecase\";\n\nconst product1 = ProductFactory.create(\"a\", \"Product 1\", 10);\nconst product2 = ProductFactory.create(\"b\", \"Product 2\", 20);\n\nconst MockRepository = () => {\n    return {\n        create: jest.fn(),\n        update: jest.fn(),\n        find: jest.fn(),\n        findAll: jest.fn().mockReturnValue(Promise.resolve([product1, product2])),\n    }\n}\n\n\ndescribe(\"Unit Test list product use case\", () => {\n    it(\"Should list all products\", async () => {\n        const productRepository = MockRepository();\n        const usecase = new ListProductUseCase(productRepository);\n\n        const output = await usecase.execute({});\n\n        expect(output.products.length).toBe(2);\n        expect(output.products[0].id).toBe(product1.id);\n        expect(output.products[0].name).toBe(product1.name);\n        expect(output.products[0].price).toBe(product1.price);\n\n        expect(output.products[1].id).toBe(product2.id);\n        expect(output.products[1].name).toBe(product2.name);\n        expect(output.products[1].price).toBe(product2.price);\n    });\n});\n"],"names":["ProductFactory","ListProductUseCase","product1","create","product2","MockRepository","jest","fn","update","find","findAll","mockReturnValue","Promise","resolve","describe","it","productRepository","usecase","output","execute","expect","products","length","toBe","id","name","price"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,oBAAoB,2CAA2C;AACtE,OAAOC,wBAAwB,yBAAyB;AAExD,IAAMC,WAAWF,eAAeG,MAAM,CAAC,KAAK,aAAa;AACzD,IAAMC,WAAWJ,eAAeG,MAAM,CAAC,KAAK,aAAa;AAEzD,IAAME,iBAAiB;IACnB,OAAO;QACHF,QAAQG,KAAKC,EAAE;QACfC,QAAQF,KAAKC,EAAE;QACfE,MAAMH,KAAKC,EAAE;QACbG,SAASJ,KAAKC,EAAE,GAAGI,eAAe,CAACC,QAAQC,OAAO,CAAC;YAACX;YAAUE;SAAS;IAC3E;AACJ;AAGAU,SAAS,mCAAmC;IACxCC,GAAG,4BAA4B;;gBACrBC,mBACAC,SAEAC;;;;wBAHAF,oBAAoBX;wBACpBY,UAAU,IAAIhB,mBAAmBe;wBAExB;;4BAAMC,QAAQE,OAAO,CAAC,CAAC;;;wBAAhCD,SAAS;wBAEfE,OAAOF,OAAOG,QAAQ,CAACC,MAAM,EAAEC,IAAI,CAAC;wBACpCH,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACG,EAAE,EAAED,IAAI,CAACrB,SAASsB,EAAE;wBAC9CJ,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACI,IAAI,EAAEF,IAAI,CAACrB,SAASuB,IAAI;wBAClDL,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACK,KAAK,EAAEH,IAAI,CAACrB,SAASwB,KAAK;wBAEpDN,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACG,EAAE,EAAED,IAAI,CAACnB,SAASoB,EAAE;wBAC9CJ,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACI,IAAI,EAAEF,IAAI,CAACnB,SAASqB,IAAI;wBAClDL,OAAOF,OAAOG,QAAQ,CAAC,EAAE,CAACK,KAAK,EAAEH,IAAI,CAACnB,SAASsB,KAAK;;;;;;QACxD;;AACJ"}